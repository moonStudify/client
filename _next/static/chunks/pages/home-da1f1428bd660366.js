(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{7183:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return s(1441)}])},1441:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return k}});var i=s(5893),n=s(2193),r=s(7350),o=s(1708),a=s(776),l=s(3100),c=s(8911),d=s(204),u=s(9076),h=s(3948),m=s(9154),x=s(4416),p=s(7126),g=s(623),f=s(6684),w=s(9222),j=s(2299),_=s(1163),b=s(7294),C=s(3750),y=function(){return(0,i.jsx)(l.xu,{borderTop:"0.0625rem solid rgb(218,220,224)",display:"flex",justifyContent:"flex-end",alignItems:"center",children:(0,i.jsx)(l.xu,{w:"48px",h:"48px",m:"1rem 0 0 1rem",children:(0,i.jsx)(C.G3K,{size:"24px"})})})};let v=["https://www.gstatic.com/classroom/themes/img_breakfast_thumb.jpg","https://gstatic.com/classroom/themes/Honors_thumb.jpg","https://gstatic.com/classroom/themes/img_graduation_thumb.jpg","https://www.gstatic.com/classroom/themes/img_bookclub_thumb.jpg","https://gstatic.com/classroom/themes/img_code_thumb.jpg","https://www.gstatic.com/classroom/themes/img_reachout_thumb.jpg","https://www.gstatic.com/classroom/themes/img_learnlanguage_thumb.jpg","https://www.gstatic.com/classroom/themes/img_backtoschool_thumb.jpg","https://www.gstatic.com/classroom/themes/img_read_thumb.jpg"],S=()=>{let[e,t]=(0,b.useState)([]),s=(0,_.useRouter)(),[S,k]=(0,b.useState)(""),z=(0,r.p)(),[E,R]=(0,b.useState)(!1),T=async()=>{let e=await (0,n.ll)();t(e)};(0,b.useEffect)(()=>{T()},[]);let G=()=>{let e=Math.floor(Math.random()*v.length);return v[e]},N=async e=>{R(!0);let t=await (0,n.lc)({classId:e});t?z({title:"Bạn đ\xe3 tham gia lớp học th\xe0nh c\xf4ng!",status:"success",duration:5e3,isClosable:!0}):z({title:"Đ\xe3 c\xf3 lỗi xảy ra!",status:"error",duration:5e3,isClosable:!0}),R(!1)},A=async e=>{R(!0);let t=await (0,n.pr)({classId:e});t?z({title:"Bạn đ\xe3 huỷ đăng k\xfd lớp học th\xe0nh c\xf4ng!",status:"success",duration:5e3,isClosable:!0}):z({title:"Đ\xe3 c\xf3 lỗi xảy ra!",status:"error",duration:5e3,isClosable:!0}),R(!1)},I=async e=>{R(!0);let t=await (0,n.ZB)(e);t?z({title:"Bạn đ\xe3 xo\xe1 lớp học th\xe0nh c\xf4ng!",status:"success",duration:5e3,isClosable:!0}):z({title:"Đ\xe3 c\xf3 lỗi xảy ra!",status:"error",duration:5e3,isClosable:!0}),R(!1)};return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o.r,{templateColumns:"repeat(4, 1fr)",children:e&&e.map(e=>(0,i.jsx)(a.P,{colSpan:1,children:(0,i.jsxs)(l.xu,{cursor:"pointer",w:"302px",h:"296px",border:"0.0625rem solid #dadce0",borderRadius:"0.5rem",m:"1rem",_hover:{boxShadow:"lg"},children:[(0,i.jsxs)(l.xu,{w:"100%",h:"100px",backgroundImage:G(),display:"flex",flexDirection:"column",justifyContent:"space-between",p:"1rem 1rem 0.75rem",children:[(0,i.jsxs)(l.xu,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,i.jsx)(c.x,{fontSize:"22px",color:"white",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",children:e.class.name}),(0,i.jsx)(d.k,{justifyContent:"center",children:(0,i.jsxs)(u.J,{placement:"bottom",isLazy:!0,children:[(0,i.jsx)(h.x,{children:(0,i.jsx)(m.h,{"aria-label":"More server options",icon:(0,i.jsx)(C.FQA,{}),bg:"none",color:"white"})}),(0,i.jsxs)(x.y,{w:"fit-content",_focus:{boxShadow:"none"},children:[(0,i.jsx)(p.Q,{}),(0,i.jsx)(g.b,{children:e.isTeacher?(0,i.jsxs)(f.K,{children:[(0,i.jsx)(w.z,{w:"194px",variant:"ghost",fontWeight:"normal",fontSize:"sm",children:"Chỉnh sửa"}),(0,i.jsx)(w.z,{w:"194px",variant:"ghost",fontWeight:"normal",colorScheme:"red",fontSize:"sm",isLoading:E,onClick:()=>I(e.class._id),children:"Xo\xe1 lớp"})]}):(0,i.jsx)(f.K,{children:e.isJoined?(0,i.jsx)(w.z,{w:"194px",variant:"ghost",fontWeight:"normal",colorScheme:"red",fontSize:"sm",isLoading:E,onClick:()=>A(e.class._id),children:"Huỷ đăng k\xfd"}):(0,i.jsx)(w.z,{w:"194px",variant:"ghost",fontWeight:"normal",fontSize:"sm",isLoading:E,onClick:()=>N(e.class._id),children:"Tham gia lớp học"})})})]})]})})]}),(0,i.jsx)(c.x,{fontSize:"12px",color:"#fff",children:e.class.description}),!1==e.isTeacher&&(0,i.jsx)(l.xu,{children:(0,i.jsx)(c.x,{fontSize:"13px",color:"white",children:e.class.teacher.fullname})})]}),!1==e.isTeacher?(0,i.jsx)(l.xu,{h:"137px",display:"flex",justifyContent:"end",onClick:()=>s.push("/class/".concat(e.class._id)),children:(0,i.jsx)(l.xu,{h:"75px",w:"75px",position:"absolute",m:"-42px 16px 0",children:(0,i.jsx)(j.E,{src:"".concat(e.class.teacher.avatar),borderRadius:"50%"})})}):(0,i.jsx)(l.xu,{h:"137px",onClick:()=>s.push("/class/".concat(e.class._id))}),(0,i.jsx)(y,{})]})},e.class._id))})})};var k=function(){return(0,i.jsx)(S,{})}},9154:function(e,t,s){"use strict";s.d(t,{h:function(){return a}});var i=s(9222),n=s(5059),r=s(7294),o=s(5893),a=(0,n.G)((e,t)=>{let{icon:s,children:n,isRound:a,"aria-label":l,...c}=e,d=s||n,u=(0,r.isValidElement)(d)?(0,r.cloneElement)(d,{"aria-hidden":!0,focusable:!1}):null;return(0,o.jsx)(i.z,{padding:"0",borderRadius:a?"full":void 0,ref:t,"aria-label":l,...c,children:u})});a.displayName="IconButton"},1708:function(e,t,s){"use strict";s.d(t,{r:function(){return o}});var i=s(5059),n=s(6384),r=s(5893),o=(0,i.G)(function(e,t){let{templateAreas:s,gap:i,rowGap:o,columnGap:a,column:l,row:c,autoFlow:d,autoRows:u,templateRows:h,autoColumns:m,templateColumns:x,...p}=e;return(0,r.jsx)(n.m.div,{ref:t,__css:{display:"grid",gridTemplateAreas:s,gridGap:i,gridRowGap:o,gridColumnGap:a,gridAutoColumns:m,gridColumn:l,gridRow:c,gridAutoFlow:d,gridAutoRows:u,gridTemplateRows:h,gridTemplateColumns:x},...p})});o.displayName="Grid"},776:function(e,t,s){"use strict";s.d(t,{P:function(){return c}});var i=s(5059),n=s(6384),r=s(888),o=s(3951),a=s(5893);function l(e){return(0,o.XQ)(e,e=>"auto"===e?"auto":`span ${e}/span ${e}`)}var c=(0,i.G)(function(e,t){let{area:s,colSpan:i,colStart:o,colEnd:c,rowEnd:d,rowSpan:u,rowStart:h,...m}=e,x=(0,r.oA)({gridArea:s,gridColumn:l(i),gridRow:l(u),gridColumnStart:o,gridColumnEnd:c,gridRowStart:h,gridRowEnd:d});return(0,a.jsx)(n.m.div,{ref:t,__css:x,...m})});c.displayName="GridItem"}},function(e){e.O(0,[13,774,888,179],function(){return e(e.s=7183)}),_N_E=e.O()}]);